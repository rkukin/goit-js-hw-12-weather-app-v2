(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{L1EO:function(e,t,n){},QfWi:function(e,t,n){"use strict";n.r(t);n("Muwe"),n("y89P"),n("L1EO"),n("JBxO"),n("FdtR");var o,i=function(e){return new Promise(function(t,n){fetch("https://api.worldweatheronline.com/premium/v1/weather.ashx?key=bb8dce5fca9942ada2d61212192410&q="+e+"&format=json").then(function(e){console.log(),e.json().then(function(e){e.data.error?n(e.data.error[0].msg):t(e)})})})},c=n("dIfx"),r=document.querySelector("#weather"),a=document.querySelector("#search-form"),d=document.querySelector('[name="city"]'),u=document.querySelector(".icon"),l=document.querySelector("[data-field=location]"),s=document.querySelector("[data-field=temp]"),f=document.querySelector("[data-field=humidity]"),m=document.querySelector("[data-field=wind]"),h=document.querySelector("[data-field=conditions]");function w(e){r.classList.remove("is-hidden"),u.setAttribute("src",e.data.current_condition[0].weatherIconUrl[0].value.replace("http","https")),u.setAttribute("alt",e.data.current_condition[0].weatherDesc[0].value),l.innerHTML=""+e.data.request[0].query,s.innerHTML=e.data.current_condition[0].temp_C+" C",f.innerHTML=e.data.current_condition[0].humidity+" %",m.innerHTML=e.data.current_condition[0].windspeedKmph+" Kmph, "+e.data.current_condition[0].winddir16Point,h.innerHTML=e.data.current_condition[0].weatherDesc[0].value}function p(){r.classList.add("is-hidden")}(o={maximumAge:18e5,enableHighAccuracy:!0},new Promise(function(e,t){window.onload=function(){navigator.geolocation.getCurrentPosition(function(t){e(t.coords)},function(){t("Нет прав доступа к геопозиции, используйте поиск по имени города.")},o)}})).then(function(e){i(" "+e.latitude+", "+e.longitude).then(function(e){w(e)})}).catch(function(e){c.a.alert(e),p()}),a.addEventListener("submit",function(e){e.preventDefault(),i(d.value).then(function(e){w(e)}).catch(function(e){c.a.alert(e),p()})})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.17be94106b7aaa60b93b.js.map